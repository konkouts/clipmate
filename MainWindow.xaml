<Window x:Class="ClipMate.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:ClipMate.Converters"
        Title="ClipMate" Height="600" Width="400"
        Background="#F5F5F5"
        FontFamily="Segoe UI" FontSize="14">

    <Window.Resources>
        <local:PinnedBackgroundConverter x:Key="PinnedBackgroundConverter"/>
        <DropShadowEffect x:Key="DropShadow" Color="#888" BlurRadius="5" ShadowDepth="2"/>
        <Style x:Key="SnippetButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Padding" Value="0"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#EEE"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <DockPanel Margin="20">
        <!-- Search box -->
        <TextBox x:Name="SearchBox"
                 Height="35"
                 Width="120" 
                 MaxWidth="360" 
                 Margin="0,0,0,15"
                 Padding="8"
                 BorderBrush="#CCC"
                 BorderThickness="1"
                 Background="White"
                 VerticalContentAlignment="Center"
                 HorizontalAlignment="Stretch"
        />



        <!-- Snippets list -->
        <ListBox x:Name="SnippetList" DockPanel.Dock="Bottom" ItemsSource="{Binding Snippets}">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Button Style="{StaticResource SnippetButtonStyle}" Click="SnippetButton_Click"
                            DataContext="{Binding}">
                        <Border CornerRadius="10" Margin="5" Padding="10" BorderBrush="#DDD" BorderThickness="1"
                                Background="{Binding IsPinned, Converter={StaticResource PinnedBackgroundConverter}}"
                                Effect="{StaticResource DropShadow}">
                            <DockPanel LastChildFill="True">
                                <CheckBox IsChecked="{Binding IsPinned}" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <TextBlock Text="{Binding Content}" TextWrapping="Wrap"/>
                            </DockPanel>
                        </Border>
                    </Button>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </DockPanel>
</Window>
